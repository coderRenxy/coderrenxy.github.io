<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>LeetCode 回溯 | 小任同学&#39;s Blog</title>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="keywords" content="算法" />
<meta name="description" content="由此正式浸润回溯，其实之前也用到过回溯，现在系统刷一遍题目。">
<meta name="author" content="
作者:&nbsp;小任同学">
<link rel="canonical" href="https://coderrenxy.github.io/posts/blog/leetcode-%E5%9B%9E%E6%BA%AF/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.7623b46c5149f45c86bb2cab2316266b62404755c0674d3e97963430d13b957e.css" integrity="sha256-diO0bFFJ9FyGuyyrIxYma2JAR1XAZ00&#43;l5Y0MNE7lX4=" rel="preload stylesheet" as="style">
<link rel="preload" href="img/icon-32.png" as="image">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://coderrenxy.github.io/img/icon-512.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://coderrenxy.github.io/img/icon-512.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://coderrenxy.github.io/icon-512.png">
<link rel="apple-touch-icon" href="https://coderrenxy.github.io/icon-512.png">
<link rel="mask-icon" href="https://coderrenxy.github.io/icon-512.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.92.1" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="LeetCode 回溯" />
<meta property="og:description" content="由此正式浸润回溯，其实之前也用到过回溯，现在系统刷一遍题目。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://coderrenxy.github.io/posts/blog/leetcode-%E5%9B%9E%E6%BA%AF/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-25T05:23:42&#43;08:00" />
<meta property="article:modified_time" content="2022-05-02T23:33:37&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="LeetCode 回溯"/>
<meta name="twitter:description" content="由此正式浸润回溯，其实之前也用到过回溯，现在系统刷一遍题目。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📚 文章",
      "item": "https://coderrenxy.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "📋 技术",
      "item": "https://coderrenxy.github.io/posts/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "LeetCode 回溯",
      "item": "https://coderrenxy.github.io/posts/blog/leetcode-%E5%9B%9E%E6%BA%AF/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "LeetCode 回溯",
  "name": "LeetCode 回溯",
  "description": "由此正式浸润回溯，其实之前也用到过回溯，现在系统刷一遍题目。",
  "keywords": [
    "算法"
  ],
  "articleBody": "77. 组合 思路：分为终止条件、单层逻辑两层。\n 终止条件：当长度为 k 就 new 这个 List 并 add 进去并 return。 单层逻辑：for 嵌套 add、递归、remove。  question：\n 为什么要 for：如果没有，找到第一个符合条件的组合就层层 remove 了。 for 的结束条件控制的是什么：控制当前层的可选个数。i  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  class Solution { List list = new ArrayList(); List path = new ArrayList(); public List combine(int n, int k) { if(k  n) return null; dfs(1,n,k); return list; } public void dfs(int start,int n,int k){// n 个里面取 k 个  //终止条件  if(k == path.size()){//层数/深度限定在此  list.add(new ArrayList(path)); return; } //单层逻辑  for(; start //循环才能出多个结果，不然直接找到就remove多层。  path.add(start); dfs(start+1,n,k); path.remove(path.size()-1); } return; } }    216.组合总和III 思路：回溯做法，集合就是 1-9 九个数字里面取，递归终止条件是 size == k \u0026\u0026 sum == n\n注意：一定要加一个 if（sumn || path.size()k）return; 不然会超时。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  class Solution { List list = new ArrayList(); List path = new ArrayList(); public List combinationSum3(int k, int n) { if(kn) return list; dfs(1,k,n,0); return list; } public void dfs(int start,int k,int n,int sum){ if(sum == n \u0026\u0026 k == path.size()){ list.add(new ArrayList(path)); return; } if(sum = n || k return; for(;startreturn; } }    17.电话号码的字母组合 思路：递归层数（深度）就是号码字符串长度，递归层度由递归终止条件控制，for 循环控制的次数是当前号码字符串中数字对应的字母映射。把一个数组的 index 和 content 作为 号码数字 和 字母的映射。用到 Stringbuilder、charAt、deleteCharAt、toString、append.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  class Solution { List list = new ArrayList(); String nums[] = {\"\",\"\",\"abc\",\"def\",\"ghi\",\"jkl\",\"mno\",\"pqrs\",\"tuv\",\"wxyz\"}; StringBuilder sb = new StringBuilder(); public List letterCombinations(String digits) { if(digits.length() == 0 || digits == null) return list; backTracking(digits,0); return list; } public void backTracking(String digits,int index){ //深度由递归终止条件控制  if(sb.length() == digits.length()){ list.add(sb.toString()); return; } for(int i=0;i'0'].length();i++){ sb.append(nums[digits.charAt(index)-'0'].charAt(i)); backTracking(digits,index+1); sb.deleteCharAt(sb.length()-1); } return; } }    39. 组合总和 莽夫思路：直接回溯。\n优化思路：先排序，在 for 中 add 之前判断如果要 add的数 + sum  target，就 break，因为后面只会越来越大。\n注意：循环条件赋初值给上次用完的数，这样就是把上次用的重复用了，如果赋初值为 0，那么会出现同一个组合的不同排列。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  class Solution { List list = new ArrayList(); List path = new ArrayList(); int sum = 0; public List combinationSum(int[] candidates, int target) { Arrays.sort(candidates); if(candidates == null || candidates.length == 0) return list; getPaths(candidates,target,0); return list; } public void getPaths(int[] candidates, int target,int index){ //终止条件  if(sum == target){ list.add(new ArrayList(path)); return; } //单层逻辑  for(int i=index;iif(sum + candidates[i]  target) break; path.add(candidates[i]); sum += candidates[i]; getPaths(candidates,target,i); path.remove(path.size()-1); sum -= candidates[i]; } return; } }    40.组合总和II 思路：和39差的就是要去重，这里的去重指的是同一递归层的去重，绝不能和其他层关联，否则会少结果集。\n注意：千万不要把去重的 if 里的 iindex 写作 i0，这样只会保证不越界，但是每次都会把两层之间的数去重，而 iindex 则恰好不越界不影响其他层。还有传入递归的 index 位置的不是 index+1，而是 i+1.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  class Solution { List list = new ArrayList(); List path = new ArrayList(); int sum = 0; public List combinationSum2(int[] candidates, int target) { if(candidates == null || candidates.length == 0) return list; Arrays.sort(candidates); getPaths(candidates,target,0); return list; } public void getPaths(int[] candidates, int target,int index){ //结束条件  if(target == sum){ list.add(new ArrayList(path)); return; } //单层逻辑  for(int i=index;iif(i  index \u0026\u0026 candidates[i-1] == candidates[i]) continue; path.add(candidates[i]); sum += candidates[i]; getPaths(candidates,target,i+1); path.remove(path.size()-1); sum -= candidates[i]; } return; } }    131.分割回文串 思路：\n 写出判断回文串的方法（把字符串，首尾切割位置传过去最优）。 递归单层逻辑：外层 for 循环囊括所有可能第一切割位置、第n次切割位置，递归切下去，如果是回文串就 add 否则 continue以确保每个 add 的都是回文串。 终止条件：当切割起始位置 index == 长度（末尾索引+1）  代码：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  class Solution { List list = new ArrayList(); List listSon = new ArrayList(); public List partition(String s) { backTracking(s,0); return list; } public void backTracking(String s,int begin){ if(begin == s.length()){ list.add(new ArrayList(listSon)); return; } for(int i=begin;iif(isPalindrome(s,begin,i)) listSon.add(s.substring(begin,i+1)); else continue; backTracking(s,i+1); listSon.remove(listSon.size()-1); } return; } public boolean isPalindrome(String s,int begin,int end){ for(int i=begin,j=end;iif(s.charAt(i)!=s.charAt(j)) return false; return true; } }    93.复原IP地址 这题主要是\".\"、如何确保是四串，这两个问题可以合成一个，就是通过\".“的数量来知道是否已经4串。\n还有就是：怎么才是合法的串？0不能开头，除非它是一个独立的0，范围要在0-255，而且只能是数字。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  class Solution { List result = new ArrayList(); public List restoreIpAddresses(String s) { if(s.length()  12) return result; backTrack(s,0,0); return result; } public void backTrack(String s,int startIndex,int pointNum){ if(pointNum == 3){ //.的个数  if(isValid(s,startIndex,s.length()-1)) {result.add(s);} return; } for(int i=startIndex;iif(isValid(s,startIndex,i)){ s = s.substring(0,i+1)+\".\"+s.substring(i+1); pointNum++; backTrack(s,i+2,pointNum); s = s.substring(0,i+1)+s.substring(i+2); pointNum--; } else {break;} } } public Boolean isValid(String s,int begin,int end){ if(begin  end) return false; int num = 0; if(s.charAt(begin) == '0' \u0026\u0026 begin != end) return false;//0不能开头，可当一个数字单独存在；  for(int i=begin;iif(s.charAt(i)'9' || s.charAt(i)'0') return false; num = (s.charAt(i)-'0')+num*10; if(num  255) return false; } return true; } }    78.子集 主要是每一次进回溯都new一个List，反正集合没有重复元素，正常回溯足够解题。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  class Solution { List list = new ArrayList(); List listSon = new ArrayList(); public List subsets(int[] nums) { backTrack(nums,0); return list; } public void backTrack(int nums[],int begin){ list.add(new ArrayList(listSon)); for(int i=begin;ireturn; } }    90.子集II 跟上一个子集差别就是List去重以及还有一个在用nums前先sort，因为乱序可能导致[1,4] 和 [4,1] 无法去重。比如nums={4，1，4}，就会出现这种情况。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  class Solution { Set set = new HashSet(); List listSon = new ArrayList(); public List subsetsWithDup(int[] nums) { Arrays.sort(nums); backTrack(nums,0); List list = new ArrayList(); for(List i:set) list.add(i); return list; } public void backTrack(int[] nums,int begin){ set.add(new ArrayList(listSon)); for(int i=begin;ireturn; } }    46.全排列 主要是每次从0开始，用LinkedList作子list方便使用contains方法，当子list包含该元素时就continue，否则就正常回溯。或者用used数组来标识是否已经存在当前元素。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  class Solution { List list = new ArrayList(); LinkedList listSon = new LinkedList(); public List permute(int[] nums) { backTrack(nums); return list; } public void backTrack(int[] nums){ if(nums.length == listSon.size()){ list.add(new ArrayList(listSon)); return; } for(int i=0;iif(listSon.contains(nums[i])) continue; listSon.add(nums[i]); backTrack(nums); listSon.remove(listSon.size()-1); } } }    47.全排列 II 和 全排列I 一样的处理逻辑，但是用used数组做，因为有重复元素，数组只看下标是否被使用，而contains看包不包含这个元素值。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  class Solution { Set set = new HashSet(); List list = new ArrayList(); boolean[] used; public List permuteUnique(int[] nums) { if(nums.length == 0) return null; used = new boolean[nums.length]; backTrack(nums); return new ArrayList(set); } public void backTrack(int[] nums){ if(list.size() == nums.length){ set.add(new ArrayList(list)); return; } for(int i=0;iif(used[i]) continue; used[i] = true; list.add(nums[i]); backTrack(nums); list.remove(list.size()-1); used[i] = false; } } }    图论 hard 332.重新安排行程 \u0026\u0026 37. 解数独 \u0026\u0026 第51题. N皇后\n不太清楚图，不大理解题意。卒……\n 持续更新…….\n如有错误，敬请斧正！！！\n",
  "wordCount" : "2527",
  "inLanguage": "en",
  "datePublished": "2022-06-25T05:23:42+08:00",
  "dateModified": "2022-05-02T23:33:37+08:00",
  "author":[{
    "@type": "Person",
    "name": "小任同学"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://coderrenxy.github.io/posts/blog/leetcode-%E5%9B%9E%E6%BA%AF/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "小任同学's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://coderrenxy.github.io/img/icon-512.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://coderrenxy.github.io/" accesskey="h" title="小任同学&#39;s Blog (Alt + H)">
                <img src="https://coderrenxy.github.io/img/icon-32.png" alt="logo" aria-label="logo"
                    height=" 30px">小任同学&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://coderrenxy.github.io/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://coderrenxy.github.io/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://coderrenxy.github.io/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://coderrenxy.github.io/search/" title="🔍搜索">
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://coderrenxy.github.io/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://coderrenxy.github.io/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
            <li>
                <a href="https://coderrenxy.github.io/links" title="🤝友链">
                    <span>🤝友链</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">
<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://coderrenxy.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://coderrenxy.github.io/posts/">📚 文章</a>&nbsp;»&nbsp;<a href="https://coderrenxy.github.io/posts/blog/">📋 技术</a></div>
    <h1 class="post-title">
      LeetCode 回溯
    </h1>
    <div class="post-description">
      由此正式浸润回溯，其实之前也用到过回溯，现在系统刷一遍题目。
    </div>
    <div class="post-meta">
			<p id="wc" style="font-size: 12px;">本文总阅读量<span id="busuanzi_value_page_pv"></span>次&nbsp;&nbsp;</p>











创建:&nbsp;<span title='2022-06-25 05:23:42 +0800 CST'>2022-06-25</span>&nbsp;|&nbsp;更新:&nbsp;2022-05-02&nbsp;|&nbsp;字数:&nbsp;2527字&nbsp;|&nbsp;时长: 6分钟&nbsp;|&nbsp;
作者:&nbsp;小任同学&nbsp;|&nbsp;<a href="https://github.com/coderRenxy/coderrenxy.github.io/content/posts/blog/LeetCode%20%e5%9b%9e%e6%ba%af.md" rel="noopener noreferrer" target="_blank">🖍️修改</a>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                
				<span class="details">文章目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#77-%e7%bb%84%e5%90%88" aria-label="77. 组合">77. 组合</a></li>
                    <li>
                        <a href="#216%e7%bb%84%e5%90%88%e6%80%bb%e5%92%8ciii" aria-label="216.组合总和III">216.组合总和III</a></li>
                    <li>
                        <a href="#17%e7%94%b5%e8%af%9d%e5%8f%b7%e7%a0%81%e7%9a%84%e5%ad%97%e6%af%8d%e7%bb%84%e5%90%88" aria-label="17.电话号码的字母组合">17.电话号码的字母组合</a></li>
                    <li>
                        <a href="#39-%e7%bb%84%e5%90%88%e6%80%bb%e5%92%8c" aria-label="39. 组合总和">39. 组合总和</a></li>
                    <li>
                        <a href="#40%e7%bb%84%e5%90%88%e6%80%bb%e5%92%8cii" aria-label="40.组合总和II">40.组合总和II</a></li>
                    <li>
                        <a href="#131%e5%88%86%e5%89%b2%e5%9b%9e%e6%96%87%e4%b8%b2" aria-label="131.分割回文串">131.分割回文串</a></li>
                    <li>
                        <a href="#93%e5%a4%8d%e5%8e%9fip%e5%9c%b0%e5%9d%80" aria-label="93.复原IP地址">93.复原IP地址</a></li>
                    <li>
                        <a href="#78%e5%ad%90%e9%9b%86" aria-label="78.子集">78.子集</a></li>
                    <li>
                        <a href="#90%e5%ad%90%e9%9b%86ii" aria-label="90.子集II">90.子集II</a></li>
                    <li>
                        <a href="#46%e5%85%a8%e6%8e%92%e5%88%97" aria-label="46.全排列">46.全排列</a></li>
                    <li>
                        <a href="#47%e5%85%a8%e6%8e%92%e5%88%97-ii" aria-label="47.全排列 II">47.全排列 II</a></li>
                    <li>
                        <a href="#%e5%9b%be%e8%ae%ba-hard" aria-label="图论 hard">图论 hard</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h3 id="77-组合">77. 组合<a hidden class="anchor" aria-hidden="true" href="#77-组合">#</a></h3>
<p><strong>思路</strong>：分为终止条件、单层逻辑两层。</p>
<ul>
<li>终止条件：当长度为 k 就 new  这个 List 并 add 进去并 return。</li>
<li>单层逻辑：for 嵌套 add、递归、remove。</li>
</ul>
<p><strong>question</strong>：</p>
<ol>
<li>为什么要 for：如果没有，找到第一个符合条件的组合就层层 remove 了。</li>
<li>for 的结束条件控制的是什么：控制当前层的可选个数。i &lt; n - (k - path.size()) + 1 可以当作 i &lt; n - k + 1看待，在第一层可选择的个数就是 n-k+1，因为考虑到后面要跟元素，所以要留 k-1 个位置，第二层要为下一层留位置，所以可选项反而多了，预留 k-2个位置就行，可选项为 n-(k-1)+1。</li>
</ol>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    List&lt;List&lt;Integer&gt;&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    List&lt;Integer&gt; path = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#0087ff">public</span> List&lt;List&lt;Integer&gt;&gt; <span style="color:#0087ff">combine</span>(<span style="color:#af0000">int</span> n, <span style="color:#af0000">int</span> k) {
        <span style="color:#5f8700">if</span>(k &gt; n)   <span style="color:#5f8700">return</span> <span style="color:#d75f00">null</span>;
        dfs(1,n,k);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">dfs</span>(<span style="color:#af0000">int</span> start,<span style="color:#af0000">int</span> n,<span style="color:#af0000">int</span> k){<span style="color:#4e4e4e">// n 个里面取 k 个
</span><span style="color:#4e4e4e"></span>        <span style="color:#4e4e4e">//终止条件
</span><span style="color:#4e4e4e"></span>        <span style="color:#5f8700">if</span>(k == path.size()){<span style="color:#4e4e4e">//层数/深度限定在此
</span><span style="color:#4e4e4e"></span>            list.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(path));
            <span style="color:#5f8700">return</span>;
        }

        <span style="color:#4e4e4e">//单层逻辑
</span><span style="color:#4e4e4e"></span>        <span style="color:#5f8700">for</span>(; start &lt;= n-(k-path.size())+1; start++){<span style="color:#4e4e4e">//循环才能出多个结果，不然直接找到就remove多层。
</span><span style="color:#4e4e4e"></span>            path.add(start);
            dfs(start+1,n,k);
            path.remove(path.size()-1);
        }
        <span style="color:#5f8700">return</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="216组合总和iii">216.组合总和III<a hidden class="anchor" aria-hidden="true" href="#216组合总和iii">#</a></h3>
<p><strong>思路</strong>：回溯做法，集合就是 1-9 九个数字里面取，递归终止条件是 size == k &amp;&amp; sum == n</p>
<p><strong>注意</strong>：一定要加一个 if（sum&gt;n || path.size()&gt;k）return;  不然会超时。</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    List&lt;List&lt;Integer&gt;&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    List&lt;Integer&gt; path = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#0087ff">public</span> List&lt;List&lt;Integer&gt;&gt; <span style="color:#0087ff">combinationSum3</span>(<span style="color:#af0000">int</span> k, <span style="color:#af0000">int</span> n) {
        <span style="color:#5f8700">if</span>(k&gt;n) <span style="color:#5f8700">return</span> list;
        dfs(1,k,n,0);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">dfs</span>(<span style="color:#af0000">int</span> start,<span style="color:#af0000">int</span> k,<span style="color:#af0000">int</span> n,<span style="color:#af0000">int</span> sum){
        <span style="color:#5f8700">if</span>(sum == n &amp;&amp; k == path.size()){
            list.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(path));
            <span style="color:#5f8700">return</span>;
        }
        <span style="color:#5f8700">if</span>(sum &gt;= n || k &lt;= path.size())    <span style="color:#5f8700">return</span>;
        <span style="color:#5f8700">for</span>(;start&lt;=9-(k-path.size())+1;start++){
            sum += start;
            path.add(start);
            dfs(start+1,k,n,sum);
            sum -= start;
            path.remove(path.size()-1);
        }
        <span style="color:#5f8700">return</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="17电话号码的字母组合">17.电话号码的字母组合<a hidden class="anchor" aria-hidden="true" href="#17电话号码的字母组合">#</a></h3>
<p>思路：递归层数（深度）就是号码字符串长度，递归层度由递归终止条件控制，for 循环控制的次数是当前号码字符串中数字对应的字母映射。把一个数组的 index 和 content 作为 号码数字 和 字母的映射。用到 Stringbuilder、charAt、deleteCharAt、toString、append.</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    List&lt;String&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    String nums[] = {<span style="color:#00afaf">&#34;&#34;</span>,<span style="color:#00afaf">&#34;&#34;</span>,<span style="color:#00afaf">&#34;abc&#34;</span>,<span style="color:#00afaf">&#34;def&#34;</span>,<span style="color:#00afaf">&#34;ghi&#34;</span>,<span style="color:#00afaf">&#34;jkl&#34;</span>,<span style="color:#00afaf">&#34;mno&#34;</span>,<span style="color:#00afaf">&#34;pqrs&#34;</span>,<span style="color:#00afaf">&#34;tuv&#34;</span>,<span style="color:#00afaf">&#34;wxyz&#34;</span>};
    StringBuilder sb = <span style="color:#5f8700">new</span> StringBuilder();
    <span style="color:#0087ff">public</span> List&lt;String&gt; <span style="color:#0087ff">letterCombinations</span>(String digits) {
        <span style="color:#5f8700">if</span>(digits.length() == 0 || digits == <span style="color:#d75f00">null</span>)    <span style="color:#5f8700">return</span> list;
        backTracking(digits,0);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">backTracking</span>(String digits,<span style="color:#af0000">int</span> index){
        <span style="color:#4e4e4e">//深度由递归终止条件控制
</span><span style="color:#4e4e4e"></span>        <span style="color:#5f8700">if</span>(sb.length() == digits.length()){
            list.add(sb.toString());
            <span style="color:#5f8700">return</span>;
        }

        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=0;i&lt;nums[digits.charAt(index)-<span style="color:#00afaf">&#39;0&#39;</span>].length();i++){
            sb.append(nums[digits.charAt(index)-<span style="color:#00afaf">&#39;0&#39;</span>].charAt(i));
            backTracking(digits,index+1);
            sb.deleteCharAt(sb.length()-1);
        }
        <span style="color:#5f8700">return</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="39-组合总和">39. 组合总和<a hidden class="anchor" aria-hidden="true" href="#39-组合总和">#</a></h3>
<p>莽夫<strong>思路</strong>：直接回溯。</p>
<p><strong>优化</strong>思路：先排序，在 for 中 add 之前判断如果要 add的数 + sum &gt; target，就 break，因为后面只会越来越大。</p>
<p><strong>注意</strong>：循环条件赋初值给上次用完的数，这样就是把上次用的重复用了，如果赋初值为 0，那么会出现同一个组合的不同排列。</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    List&lt;List&lt;Integer&gt;&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    List&lt;Integer&gt; path = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#af0000">int</span> sum = 0;
    <span style="color:#0087ff">public</span> List&lt;List&lt;Integer&gt;&gt; <span style="color:#0087ff">combinationSum</span>(<span style="color:#af0000">int</span>[] candidates, <span style="color:#af0000">int</span> target) {
        Arrays.sort(candidates);
        <span style="color:#5f8700">if</span>(candidates == <span style="color:#d75f00">null</span> || candidates.length == 0)    <span style="color:#5f8700">return</span> list;
        getPaths(candidates,target,0);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">getPaths</span>(<span style="color:#af0000">int</span>[] candidates, <span style="color:#af0000">int</span> target,<span style="color:#af0000">int</span> index){
        <span style="color:#4e4e4e">//终止条件
</span><span style="color:#4e4e4e"></span>        <span style="color:#5f8700">if</span>(sum == target){
            list.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(path));
            <span style="color:#5f8700">return</span>;
        }
        <span style="color:#4e4e4e">//单层逻辑
</span><span style="color:#4e4e4e"></span>        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=index;i&lt;candidates.length;i++){
            <span style="color:#5f8700">if</span>(sum + candidates[i] &gt; target)    <span style="color:#5f8700">break</span>;
            path.add(candidates[i]);
            sum += candidates[i];
            getPaths(candidates,target,i);
            path.remove(path.size()-1);
            sum -= candidates[i];
        }
        <span style="color:#5f8700">return</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="40组合总和ii">40.组合总和II<a hidden class="anchor" aria-hidden="true" href="#40组合总和ii">#</a></h3>
<p><strong>思路</strong>：和39差的就是要去重，这里的去重指的是同一递归层的去重，绝不能和其他层关联，否则会少结果集。</p>
<p><strong>注意</strong>：千万不要把去重的 if 里的 i&gt;index 写作 i&gt;0，这样只会保证不越界，但是每次都会把两层之间的数去重，而 i&gt;index 则恰好不越界不影响其他层。还有传入递归的 index 位置的不是 index+1，而是 i+1.</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    List&lt;List&lt;Integer&gt;&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    List&lt;Integer&gt; path = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#af0000">int</span> sum = 0;
    <span style="color:#0087ff">public</span> List&lt;List&lt;Integer&gt;&gt; <span style="color:#0087ff">combinationSum2</span>(<span style="color:#af0000">int</span>[] candidates, <span style="color:#af0000">int</span> target) {
        <span style="color:#5f8700">if</span>(candidates == <span style="color:#d75f00">null</span> || candidates.length == 0)    <span style="color:#5f8700">return</span> list;
        Arrays.sort(candidates);
        getPaths(candidates,target,0);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">getPaths</span>(<span style="color:#af0000">int</span>[] candidates, <span style="color:#af0000">int</span> target,<span style="color:#af0000">int</span> index){
        <span style="color:#4e4e4e">//结束条件
</span><span style="color:#4e4e4e"></span>        <span style="color:#5f8700">if</span>(target == sum){
            list.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(path));
            <span style="color:#5f8700">return</span>;
        }
        <span style="color:#4e4e4e">//单层逻辑
</span><span style="color:#4e4e4e"></span>        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=index;i&lt;candidates.length &amp;&amp; sum + candidates[i] &lt;= target;i++){
            <span style="color:#5f8700">if</span>(i &gt; index &amp;&amp; candidates[i-1] == candidates[i])    <span style="color:#5f8700">continue</span>;
            path.add(candidates[i]);
            sum += candidates[i];
            getPaths(candidates,target,i+1);
            path.remove(path.size()-1);
            sum -= candidates[i];
        }
        <span style="color:#5f8700">return</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="131分割回文串">131.分割回文串<a hidden class="anchor" aria-hidden="true" href="#131分割回文串">#</a></h3>
<p><strong>思路</strong>：</p>
<ol>
<li>写出判断回文串的方法（把字符串，首尾切割位置传过去最优）。</li>
<li>递归单层逻辑：外层 for 循环囊括所有可能第一切割位置、第n次切割位置，递归切下去，如果是回文串就 add 否则 continue以确保每个 add 的都是回文串。</li>
<li>终止条件：当切割起始位置 index == 长度（末尾索引+1）</li>
</ol>
<p>代码：</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    List&lt;List&lt;String&gt;&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    List&lt;String&gt; listSon = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#0087ff">public</span> List&lt;List&lt;String&gt;&gt; <span style="color:#0087ff">partition</span>(String s) {
        backTracking(s,0);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">backTracking</span>(String s,<span style="color:#af0000">int</span> begin){
        <span style="color:#5f8700">if</span>(begin == s.length()){
            list.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(listSon));
            <span style="color:#5f8700">return</span>;
        }
        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=begin;i&lt;s.length();i++){
            <span style="color:#5f8700">if</span>(isPalindrome(s,begin,i))
                listSon.add(s.substring(begin,i+1));
            <span style="color:#5f8700">else</span> 
                <span style="color:#5f8700">continue</span>;
            backTracking(s,i+1);
            listSon.remove(listSon.size()-1);
        }
        <span style="color:#5f8700">return</span>;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">boolean</span> <span style="color:#0087ff">isPalindrome</span>(String s,<span style="color:#af0000">int</span> begin,<span style="color:#af0000">int</span> end){
        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=begin,j=end;i&lt;j;i++,j--)
            <span style="color:#5f8700">if</span>(s.charAt(i)!=s.charAt(j)) <span style="color:#5f8700">return</span> <span style="color:#d75f00">false</span>; 
        <span style="color:#5f8700">return</span> <span style="color:#d75f00">true</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="93复原ip地址">93.复原IP地址<a hidden class="anchor" aria-hidden="true" href="#93复原ip地址">#</a></h3>
<p>这题主要是&quot;.&quot;、如何确保是四串，这两个问题可以合成一个，就是通过&quot;.&ldquo;的数量来知道是否已经4串。</p>
<p>还有就是：怎么才是合法的串？0不能开头，除非它是一个独立的0，范围要在0-255，而且只能是数字。</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">35
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    List&lt;String&gt; result = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#0087ff">public</span> List&lt;String&gt; <span style="color:#0087ff">restoreIpAddresses</span>(String s) {
        <span style="color:#5f8700">if</span>(s.length() &gt; 12)   <span style="color:#5f8700">return</span> result;
        backTrack(s,0,0);
        <span style="color:#5f8700">return</span> result;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">backTrack</span>(String s,<span style="color:#af0000">int</span> startIndex,<span style="color:#af0000">int</span> pointNum){
        <span style="color:#5f8700">if</span>(pointNum == 3){ <span style="color:#4e4e4e">//.的个数
</span><span style="color:#4e4e4e"></span>                <span style="color:#5f8700">if</span>(isValid(s,startIndex,s.length()-1)) {result.add(s);}
                <span style="color:#5f8700">return</span>;
        }
        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=startIndex;i&lt;s.length()-3+pointNum;i++){
            <span style="color:#5f8700">if</span>(isValid(s,startIndex,i)){
                s = s.substring(0,i+1)+<span style="color:#00afaf">&#34;.&#34;</span>+s.substring(i+1);
                pointNum++;
                backTrack(s,i+2,pointNum);
                s = s.substring(0,i+1)+s.substring(i+2);
                pointNum--; 
            }
            <span style="color:#5f8700">else</span> {<span style="color:#5f8700">break</span>;}
        }
    }
    <span style="color:#0087ff">public</span> Boolean <span style="color:#0087ff">isValid</span>(String s,<span style="color:#af0000">int</span> begin,<span style="color:#af0000">int</span> end){
        <span style="color:#5f8700">if</span>(begin &gt; end) <span style="color:#5f8700">return</span> <span style="color:#d75f00">false</span>;
        <span style="color:#af0000">int</span> num = 0;
        <span style="color:#5f8700">if</span>(s.charAt(begin) == <span style="color:#00afaf">&#39;0&#39;</span> &amp;&amp; begin != end)  <span style="color:#5f8700">return</span> <span style="color:#d75f00">false</span>;<span style="color:#4e4e4e">//0不能开头，可当一个数字单独存在；
</span><span style="color:#4e4e4e"></span>        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=begin;i&lt;=end;i++){
            <span style="color:#5f8700">if</span>(s.charAt(i)&gt;<span style="color:#00afaf">&#39;9&#39;</span> || s.charAt(i)&lt;<span style="color:#00afaf">&#39;0&#39;</span>) <span style="color:#5f8700">return</span> <span style="color:#d75f00">false</span>;
            num = (s.charAt(i)-<span style="color:#00afaf">&#39;0&#39;</span>)+num*10;
            <span style="color:#5f8700">if</span>(num &gt; 255)   <span style="color:#5f8700">return</span> <span style="color:#d75f00">false</span>;
        }
        <span style="color:#5f8700">return</span> <span style="color:#d75f00">true</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="78子集">78.子集<a hidden class="anchor" aria-hidden="true" href="#78子集">#</a></h3>
<p>主要是每一次进回溯都new一个List，反正集合没有重复元素，正常回溯足够解题。</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
        List&lt;List&lt;Integer&gt;&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
        List&lt;Integer&gt; listSon = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#0087ff">public</span> List&lt;List&lt;Integer&gt;&gt; <span style="color:#0087ff">subsets</span>(<span style="color:#af0000">int</span>[] nums) {
        backTrack(nums,0);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">backTrack</span>(<span style="color:#af0000">int</span> nums[],<span style="color:#af0000">int</span> begin){
        list.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(listSon));
        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=begin;i&lt;nums.length;i++){
            listSon.add(nums[i]);
            backTrack(nums,i+1);
            listSon.remove(listSon.size()-1);
        }
        <span style="color:#5f8700">return</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="90子集ii">90.子集II<a hidden class="anchor" aria-hidden="true" href="#90子集ii">#</a></h3>
<p>跟上一个子集差别就是List&lt;List<Integer>&gt;去重以及还有一个在用nums前先sort，因为乱序可能导致[1,4] 和 [4,1] 无法去重。比如nums={4，1，4}，就会出现这种情况。</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    Set&lt;List&lt;Integer&gt;&gt; set = <span style="color:#5f8700">new</span> HashSet&lt;&gt;();
    List&lt;Integer&gt; listSon = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#0087ff">public</span> List&lt;List&lt;Integer&gt;&gt; <span style="color:#0087ff">subsetsWithDup</span>(<span style="color:#af0000">int</span>[] nums) {
        Arrays.sort(nums);
        backTrack(nums,0);
        List&lt;List&lt;Integer&gt;&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
        <span style="color:#5f8700">for</span>(List i:set)
            list.add(i);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">backTrack</span>(<span style="color:#af0000">int</span>[] nums,<span style="color:#af0000">int</span> begin){
        set.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(listSon));
        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=begin;i&lt;nums.length;i++){
            listSon.add(nums[i]);
            backTrack(nums,i+1);
            listSon.remove(listSon.size()-1);
        }
        <span style="color:#5f8700">return</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="46全排列">46.全排列<a hidden class="anchor" aria-hidden="true" href="#46全排列">#</a></h3>
<p>主要是每次从0开始，用LinkedList作子list方便使用contains方法，当子list包含该元素时就continue，否则就正常回溯。或者用used数组来标识是否已经存在当前元素。</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    List&lt;List&lt;Integer&gt;&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    LinkedList&lt;Integer&gt; listSon = <span style="color:#5f8700">new</span> LinkedList&lt;&gt;();
    <span style="color:#0087ff">public</span> List&lt;List&lt;Integer&gt;&gt; <span style="color:#0087ff">permute</span>(<span style="color:#af0000">int</span>[] nums) {
        backTrack(nums);
        <span style="color:#5f8700">return</span> list;
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">backTrack</span>(<span style="color:#af0000">int</span>[] nums){
        <span style="color:#5f8700">if</span>(nums.length == listSon.size()){
                list.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(listSon));
                <span style="color:#5f8700">return</span>;
        }
        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=0;i&lt;nums.length;i++){
            <span style="color:#5f8700">if</span>(listSon.contains(nums[i]))   <span style="color:#5f8700">continue</span>;
            listSon.add(nums[i]);
            backTrack(nums);
            listSon.remove(listSon.size()-1);
        }
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="47全排列-ii">47.全排列 II<a hidden class="anchor" aria-hidden="true" href="#47全排列-ii">#</a></h3>
<p>和 全排列I 一样的处理逻辑，但是用used数组做，因为有重复元素，数组只看下标是否被使用，而contains看包不包含这个元素值。</p>
<div class="highlight"><div style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#454545">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#0087ff">class</span> <span style="color:#0087ff">Solution</span> {
    Set&lt;List&lt;Integer&gt;&gt; set = <span style="color:#5f8700">new</span> HashSet&lt;&gt;();
    List&lt;Integer&gt; list = <span style="color:#5f8700">new</span> ArrayList&lt;&gt;();
    <span style="color:#af0000">boolean</span>[] used;
    <span style="color:#0087ff">public</span> List&lt;List&lt;Integer&gt;&gt; <span style="color:#0087ff">permuteUnique</span>(<span style="color:#af0000">int</span>[] nums) {
        <span style="color:#5f8700">if</span>(nums.length == 0) <span style="color:#5f8700">return</span> <span style="color:#d75f00">null</span>;
        used = <span style="color:#5f8700">new</span> <span style="color:#af0000">boolean</span>[nums.length];
        backTrack(nums);
        <span style="color:#5f8700">return</span> <span style="color:#5f8700">new</span> ArrayList&lt;&gt;(set);
    }
    <span style="color:#0087ff">public</span> <span style="color:#af0000">void</span> <span style="color:#0087ff">backTrack</span>(<span style="color:#af0000">int</span>[] nums){
        <span style="color:#5f8700">if</span>(list.size() == nums.length){
            set.add(<span style="color:#5f8700">new</span> ArrayList&lt;&gt;(list));
            <span style="color:#5f8700">return</span>;
        }
        <span style="color:#5f8700">for</span>(<span style="color:#af0000">int</span> i=0;i&lt;nums.length;i++){
            <span style="color:#5f8700">if</span>(used[i]) <span style="color:#5f8700">continue</span>;
            used[i] = <span style="color:#d75f00">true</span>;
            list.add(nums[i]);
            backTrack(nums);
            list.remove(list.size()-1);
            used[i] = <span style="color:#d75f00">false</span>;
        }
    }
}
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="图论-hard">图论 hard<a hidden class="anchor" aria-hidden="true" href="#图论-hard">#</a></h3>
<p>332.重新安排行程  &amp;&amp;  37. 解数独  &amp;&amp;  第51题. N皇后</p>
<p>不太清楚图，不大理解题意。卒&hellip;&hellip;</p>
<hr>
<p>持续更新&hellip;&hellip;.<br>
如有错误，敬请斧正！！！</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://coderrenxy.github.io/tags/%E7%AE%97%E6%B3%95/">算法</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://coderrenxy.github.io/posts/life/6%E6%9C%88%E6%80%BB%E7%BB%93/">
    <span class="title">« 上一篇</span>
    <br>
    <span>6月总结</span>
  </a>
  <a class="next" href="https://coderrenxy.github.io/posts/blog/%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%9A%84%E5%8C%BA%E5%88%AB/">
    <span class="title">下一篇 »</span>
    <br>
    <span>接口和抽象的区别</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<script src="https://utteranc.es/client.js"
repo="coderRenxy/coderrenxy.github.io"
issue-term="title"
theme="github-light"
crossorigin="anonymous"
async>
</script>

<footer class="footer">
    <span>&copy; 2025 <a href="https://coderrenxy.github.io/">小任同学&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
	<span id="busuanzi_container_site_pv">
    访问量：<span id="busuanzi_value_site_pv"></span>次
</span>
&nbsp;
<span id="busuanzi_container_site_uv">
    您是本站第 <span id="busuanzi_value_site_uv"></span> 位访问者
</span>
<hr>


</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
 <div>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>


</body>

</html>
